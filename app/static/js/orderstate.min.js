// Orderstate.js
// Generated by Fminmaker.py, version 1.01 beta © Rosan Finance
// Date: 2019-11-23 11:00
﻿default_submit_mode=2;default_action='500';default_log_action='501';default_input_name='order_id';LINE='order';SUBLINE='event';function $Init(){$SidebarControl.init();page_sort_title=$("#sort_icon").attr('title');SelectedReset();$LineSelector.init();var parent=$("#line-content");var ob=$("tr[class~='selected']",parent);$onToggleSelectedClass(LINE,ob,'add',null);$LineSelector.set_current(ob);$SublineSelector.init();var parent=$("#subline-content");var ob=$("tr[class~='selected']",parent);$onToggleSelectedClass(SUBLINE,ob,'add',null);$SublineSelector.set_current(ob);$ShowMenu('data-menu-events');$TabSelector.init();interrupt(true,1);}function $ShowMenu(id){var events=$("#subline-content");var files=$("#files-content");var errors=$("#errors-content");var certificates=$("#certificates-content");var aliases=$("#aliases-content");var log=$("#log-content");if(selected_data_menu)selected_data_menu.removeClass('selected');selected_data_menu=$("#"+id);events.hide();files.hide();errors.hide();certificates.hide();aliases.hide();log.hide();if(id=='data-menu-events')events.show();else if(id=='data-menu-files')files.show();else if(id=='data-menu-errors')errors.show();else if(id=='data-menu-certificates')certificates.show();else if(id=='data-menu-aliases')aliases.show();else if(id=='data-menu-log')log.show();if(id=='data-menu-events'&&SelectedGetItem(SUBLINE,'id')) $ActivateInfoData(1);else $ActivateInfoData(0);selected_data_menu.addClass('selected');selected_data_menu_id=id;}function $onPaginationFormSubmit(frm){return true;}function $onFilterFormSubmit(frm){return true;}function $onTabSelect(ob){var id=ob.attr('id');var action=id=='data-menu-files'?'502':(id=='data-menu-errors'?'503':(id=='data-menu-certificates'?'504':(id=='data-menu-aliases'?'505':(id=='data-menu-log'?'506':null))));selected_menu_action=action;if(action!=null){$InProgress(ob,1);$Go(action);}else if(default_submit_mode>1){selected_menu_action=default_log_action;$InProgress(ob,1);$Go(default_action);}else $ShowMenu(id);return true;}function MakeFilterSubmit(mode,page){$("#filter-form").attr("action",baseURI);switch(mode){case 0: $("#event_id").each(function(){$(this).val(0);});$("#type").val(0);case 1:case 2:case 3:case 4:case 5:break;case 9: $("#order_id").each(function(){$(this).val(0);});$("#event_id").each(function(){$(this).val(0);});}$ResetLogPage();$setPaginationFormSubmit(page);$onParentFormSubmit('filter-form');}jQuery(function($){$(".line").click(function(e){var ob=$(this);$LineSelector.set_current(ob);$onToggleSelectedClass(LINE,ob,'submit',null);});$("#subline-content").on('click','.subline',function(e){var ob=$(this);$SublineSelector.onRefresh(ob);});$("#data-section").on('click','.column',function(e){var ob=$(this);var parent=ob.parents("*[class*='line']").first();if(!is_null(parent)&&!parent.hasClass("tabline")) $InProgress(ob,1);});$(".view-lines").on('click','.tabline',function(e){var ob=$(this);if(!is_null(current_tabline)) $onToggleSelectedClass(TABLINE,current_tabline,'remove',null);current_tabline=ob;SelectedSetItem(TABLINE,'ob',current_tabline);$onToggleSelectedClass(TABLINE,current_tabline,'add',null);});$("div[id^='data-menu']",this).click(function(e){$TabSelector.onClick($(this));});});$(function(){if(IsTrace)alert('Document Ready(orderstate)');$("#search-context").attr('placeholder','Найти (имя пакета, файл)...');$_init();});
